# ğŸš€ Toss Tech - Vanilla JS SPA

> í”„ë ˆì„ì›Œí¬ ì—†ì´ ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸(TypeScript)ë¡œ êµ¬í˜„í•œ [toss.tech](https://toss.tech/tech) ê¸°ìˆ  ë¸”ë¡œê·¸ í´ë¡  í”„ë¡œì íŠ¸

![toss](https://github.com/f-lab-edu/toss-tech-vanilla-js/assets/110542210/99b3f765-600b-4fce-8900-e4d2ac98753a)

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [í•µì‹¬ êµ¬í˜„ ì‚¬í•­](#-í•µì‹¬-êµ¬í˜„-ì‚¬í•­)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [ìŠ¤í¬ë¦½íŠ¸](#-ìŠ¤í¬ë¦½íŠ¸)
- [ì°¸ê³  ìë£Œ](#-ì°¸ê³ -ìë£Œ)

## ğŸ¯ í”„ë¡œì íŠ¸ ì†Œê°œ

React, Vue ê°™ì€ í”„ë ˆì„ì›Œí¬ ì—†ì´ ìˆœìˆ˜ JavaScriptì™€ Web APIë§Œì„ ì‚¬ìš©í•˜ì—¬ SPA(Single Page Application)ë¥¼ êµ¬í˜„í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
í† ìŠ¤ ê¸°ìˆ  ë¸”ë¡œê·¸ì˜ UI/UXë¥¼ í´ë¡ í•˜ë©´ì„œ, í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆì„ì›Œí¬ì˜ ë‚´ë¶€ ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

### í•™ìŠµ ëª©í‘œ

- **History API**ë¥¼ í™œìš©í•œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ… êµ¬í˜„
- **Web Components (Custom Elements)**ë¥¼ í™œìš©í•œ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ êµ¬í˜„
- **Shadow DOM**ì„ í™œìš©í•œ ìŠ¤íƒ€ì¼ ìº¡ìŠí™”
- í”„ë ˆì„ì›Œí¬ ì—†ì´ **ìƒíƒœ ê´€ë¦¬**ì™€ **ë Œë”ë§ ì‹œìŠ¤í…œ** ì´í•´í•˜ê¸°

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥                      | ì„¤ëª…                                        |
| ------------------------- | ------------------------------------------- |
| ğŸ”„ **SPA ë¼ìš°íŒ…**         | History API ê¸°ë°˜ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…   |
| ğŸ“¦ **ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ**    | Custom Elements ê¸°ë°˜ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ |
| ğŸ¨ **ìŠ¤íƒ€ì¼ ìº¡ìŠí™”**      | Shadow DOMì„ í™œìš©í•œ ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ ê²©ë¦¬    |
| ğŸ“± **ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜**      | ê°œë°œ(Tech) / ë””ìì¸(Design) ì•„í‹°í´ ë¶„ë¥˜     |
| ğŸ“„ **ì•„í‹°í´ ìƒì„¸ í˜ì´ì§€** | ë™ì  ë¼ìš°íŒ…ì„ í†µí•œ ì•„í‹°í´ ìƒì„¸ ì¡°íšŒ         |
| ğŸ”— **ë”¥ ë§í¬ ì§€ì›**       | ìƒˆë¡œê³ ì¹¨ ì‹œì—ë„ ë¼ìš°íŠ¸ ìƒíƒœ ìœ ì§€            |

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Core

- **TypeScript** - íƒ€ì… ì•ˆì •ì„± í™•ë³´
- **Web Components API** - Custom Elements, Shadow DOM
- **History API** - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…

### Build Tools

- **Webpack 5** - ëª¨ë“ˆ ë²ˆë“¤ë§
- **ts-loader** - TypeScript ì»´íŒŒì¼
- **css-loader / style-loader** - CSS ì²˜ë¦¬

### Development

- **Jest** - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- **Babel** - JavaScript íŠ¸ëœìŠ¤íŒŒì¼ë§
- **http-server** - ê°œë°œ ì„œë²„

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
toss-tech-vanilla-js/
â”œâ”€â”€ __test__/                    # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â””â”€â”€ router/
â”‚       â””â”€â”€ router.test.ts       # ë¼ìš°í„° í…ŒìŠ¤íŠ¸
â”œâ”€â”€ dist/                        # ë¹Œë“œ ê²°ê³¼ë¬¼
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ apis/                    # API í˜¸ì¶œ í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ getArticle.ts        # ì•„í‹°í´ ìƒì„¸ ì¡°íšŒ
â”‚   â”‚   â”œâ”€â”€ getArticleList.ts    # ì•„í‹°í´ ëª©ë¡ ì¡°íšŒ
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ components/              # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ article/             # ì•„í‹°í´ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ArticleDetail.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ArticleList.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ArticleListItem.ts
â”‚   â”‚   â”‚   â””â”€â”€ ArticleProfile.ts
â”‚   â”‚   â”œâ”€â”€ layout/              # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ footer.ts
â”‚   â”‚   â”‚   â””â”€â”€ header.ts
â”‚   â”‚   â”œâ”€â”€ Component.ts         # ë² ì´ìŠ¤ ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤
â”‚   â”‚   â””â”€â”€ entry.ts             # ì»´í¬ë„ŒíŠ¸ ì—”íŠ¸ë¦¬
â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â””â”€â”€ customElementName.ts # Custom Element ì´ë¦„ ìƒìˆ˜
â”‚   â”œâ”€â”€ data/                    # ëª©ì—… ë°ì´í„° (JSON)
â”‚   â”‚   â”œâ”€â”€ article.json
â”‚   â”‚   â”œâ”€â”€ designArticleList.json
â”‚   â”‚   â””â”€â”€ techArticleList.json
â”‚   â”œâ”€â”€ pages/                   # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ArticleDetailPage.ts
â”‚   â”‚   â”œâ”€â”€ MainPage.ts
â”‚   â”‚   â”œâ”€â”€ NotFoundPage.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ styles/                  # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ global.css
â”‚   â”‚   â””â”€â”€ reset.css
â”‚   â”œâ”€â”€ types/                   # TypeScript íƒ€ì… ì •ì˜
â”‚   â”‚   â”œâ”€â”€ article.d.ts
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ router.d.ts
â”‚   â”œâ”€â”€ index.html               # HTML í…œí”Œë¦¿
â”‚   â”œâ”€â”€ index.ts                 # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”‚   â””â”€â”€ router.ts                # SPA ë¼ìš°í„°
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ webpack.config.js
â””â”€â”€ jest.config.js
```

## ğŸ”‘ í•µì‹¬ êµ¬í˜„ ì‚¬í•­

### 1. SPA ë¼ìš°í„°

History APIë¥¼ í™œìš©í•œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°í„°ë¥¼ ì§ì ‘ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```typescript
// ë¼ìš°í„° ì‚¬ìš© ì˜ˆì‹œ
const router = createRouter();

router
  .addRoute("/", pages.main)
  .addRoute("/tech", pages.main)
  .addRoute("/design", pages.main)
  .addRoute("/article/:articleId", pages.article) // ë™ì  ë¼ìš°íŒ…
  .setNotFound(pages.notFound)
  .start();
```

**ì£¼ìš” íŠ¹ì§•:**

- ë©”ì„œë“œ ì²´ì´ë‹ íŒ¨í„´ ì§€ì›
- ë™ì  URL íŒŒë¼ë¯¸í„° ì¶”ì¶œ (`:articleId`)
- ì •ê·œí‘œí˜„ì‹ ê¸°ë°˜ ë¼ìš°íŠ¸ ë§¤ì¹­
- `popstate` ì´ë²¤íŠ¸ ê¸°ë°˜ ë„¤ë¹„ê²Œì´ì…˜ ê°ì§€
- í´ë§ ë°©ì‹ìœ¼ë¡œ URL ë³€ê²½ ê°ì§€ (250ms ê°„ê²©)

### 2. ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ

Web Componentsì˜ Custom Elementsë¥¼ í™•ì¥í•œ ë² ì´ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```typescript
// ë² ì´ìŠ¤ ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤
export default class Component extends HTMLElement {
  constructor(attributes: string[]) {
    super();
    this.attachShadow({ mode: "open" });
    // props ì´ˆê¸°í™” ë° ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸ ë°”ì¸ë”©
  }

  get styles() {
    return "";
  } // ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼
  createHTML(props: Props): HTMLElement; // ë Œë”ë§ ë¡œì§
  render() {
    /* Shadow DOMì— ë Œë”ë§ */
  }
}
```

**ì£¼ìš” íŠ¹ì§•:**

- Shadow DOMì„ í†µí•œ ìŠ¤íƒ€ì¼ ìº¡ìŠí™”
- `data-navigate` ì†ì„±ì„ í†µí•œ ì„ ì–¸ì  ë„¤ë¹„ê²Œì´ì…˜
- ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œ (`connectedCallback`)
- Props ì‹œìŠ¤í…œ (HTML ì†ì„± ê¸°ë°˜)

### 3. ì„ ì–¸ì  ë„¤ë¹„ê²Œì´ì…˜

`data-navigate` ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ SPA ë„¤ë¹„ê²Œì´ì…˜ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```html
<!-- í´ë¦­ ì‹œ /techë¡œ ë„¤ë¹„ê²Œì´ì…˜ -->
<a href="/tech" data-navigate="/tech">ê°œë°œ</a>
```

ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì´ë²¤íŠ¸ ìœ„ì„ íŒ¨í„´ìœ¼ë¡œ ì²˜ë¦¬:

```typescript
this.shadowRoot!.addEventListener(
  "click",
  (e) => {
    const anchor = target.closest("a[data-navigate]");
    if (anchor && anchor.dataset.navigate) {
      e.preventDefault();
      router.navigate(anchor.dataset.navigate);
    }
  },
  true
);
```

### 4. ì»´í¬ë„ŒíŠ¸ ëª©ë¡

| ì»´í¬ë„ŒíŠ¸        | íƒœê·¸ëª…                | ì„¤ëª…               |
| --------------- | --------------------- | ------------------ |
| Header          | `<app-header>`        | ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” |
| Footer          | `<app-footer>`        | í•˜ë‹¨ í‘¸í„°          |
| MainPage        | `<main-page>`         | ë©”ì¸ í˜ì´ì§€        |
| ArticleList     | `<article-list>`      | ì•„í‹°í´ ëª©ë¡        |
| ArticleListItem | `<article-list-item>` | ì•„í‹°í´ ëª©ë¡ ì•„ì´í…œ |
| ArticleDetail   | `<article-detail>`    | ì•„í‹°í´ ìƒì„¸        |
| ArticleProfile  | `<article-profile>`   | ì‘ì„±ì í”„ë¡œí•„      |

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 18+
- Yarn 1.22+

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
yarn install

# ê°œë°œ ì„œë²„ ì‹¤í–‰ (http://localhost:8001)
yarn dev
```

### í”„ë¡œë•ì…˜ ë¹Œë“œ

```bash
# Webpack ë¹Œë“œë§Œ ì‹¤í–‰
npx webpack
```

## ğŸ“œ ìŠ¤í¬ë¦½íŠ¸

| ìŠ¤í¬ë¦½íŠ¸    | ì„¤ëª…                                        |
| ----------- | ------------------------------------------- |
| `yarn dev`  | Webpack ë¹Œë“œ í›„ ê°œë°œ ì„œë²„ ì‹¤í–‰ (port: 8001) |
| `yarn test` | Jest í…ŒìŠ¤íŠ¸ ì‹¤í–‰                            |

## ğŸ§ª í…ŒìŠ¤íŠ¸

ë¼ìš°í„° í•µì‹¬ ê¸°ëŠ¥ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```bash
yarn test
```

**í…ŒìŠ¤íŠ¸ í•­ëª©:**

- URL íŒŒë¼ë¯¸í„° ì¶”ì¶œ (`extractUrlParams`)
- ë¼ìš°íŠ¸ ë§¤ì¹­ ë° ì½œë°± ì‹¤í–‰
- NotFound í•¸ë“¤ë§

## ğŸ“š ì°¸ê³  ìë£Œ

- ğŸ“– [í”„ë ˆì„ì›Œí¬ ì—†ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ](https://www.yes24.com/Product/Goods/96639825) - Francesco Strazzullo
- ğŸ”— [toss-tech-router](https://github.com/f-lab-edu/toss-tech-router) - ê´€ë ¨ í”„ë¡œì íŠ¸
- ğŸ“ [MDN - Web Components](https://developer.mozilla.org/ko/docs/Web/API/Web_components)
- ğŸ“ [MDN - History API](https://developer.mozilla.org/ko/docs/Web/API/History_API)
